doctype html
html
    head
        title= title
        meta(name="viewport" content="width=device-width, initial-scale=1")
        link(rel="stylesheet", href="/css/style.css")
    body
        .container
            h1 HubSpot Contacts
            
            if error
                .alert.alert-error= error
            
            .table-container
                table.contacts-table
                    thead
                        tr
                            th ID
                            th First Name
                            th Last Name
                            th Email
                            th Phone
                            th Company
                            th Job Title
                            th Created Date
                    tbody
                        if contacts && contacts.length > 0
                            each contact in contacts
                                tr
                                    td= contact.id
                                    td= contact.properties.firstname || 'N/A'
                                    td= contact.properties.lastname || 'N/A'
                                    td= contact.properties.email || 'N/A'
                                    td= contact.properties.phone || 'N/A'
                                    td= contact.properties.company || 'N/A'
                                    td= contact.properties.jobtitle || 'N/A'
                                    td= new Date(contact.createdAt).toLocaleDateString()
                        else
                            tr
                                td(colspan="8") 
                                    if error
                                        | Unable to load contacts
                                    else
                                        | No contacts found
            
            .actions
                a.btn.btn-primary(href="/update-cobj") Add to this table